---
title: 'Midoffice API Toolkit'
---

Сразу после бронирования заказа отправляется запрос на регистрацию оплаты ([payment.register](/nemo-backoffice-api/midoffice_api_toolkit/payment_register)), в ответе приходят имена сформированных документов по заказу. После [получения списка документов](/nemo-backoffice-api/midoffice_api_toolkit/import_documentslist), на странице заказа отображаются ссылки на просмотр полученных документов ([import.document](/nemo-backoffice-api/midoffice_api_toolkit/import_document)). При попытке оформления закзаза отправляется запрос на блокировку средств на лицевом счете ([payment.begin](/nemo-backoffice-api/midoffice_api_toolkit/payment_begin)) по последней актуальной транзакции. В случае успешности запроса на блокировку денежных средств на счете субагента, Nemo запускает оформление заказа, по факту завершения оформления, отправляется запрос на списание средств со счета ([payment.complete](/nemo-backoffice-api/midoffice_api_toolkit/payment_complete)), если это требуется по ответу на запрос блокировки ([payment.begin](/nemo-backoffice-api/midoffice_api_toolkit/payment_begin)).

В случае, если по сформированному счету субагент осуществляет перевод денежных средств, то на странице заказа, следует отметить оплачиваемый счет как “отправлен на оплату”. Данная отметка позволяет определять сумму денежных средств, фактически уплаченных в рамках заказа. В случае, если увеличивается стоимость заказа, по счету которого уже была произведена оплата, то новый счет выставляется ([payment.register](/nemo-backoffice-api/midoffice_api_toolkit/payment_register)) на сумму, равную разнице между общей стоимостью заказа и суммой уже отправленных на оплату счетов заказа.

В личном кабинете Nemo доступна страница, которая отображает таблицу, содержащую список документов за определенный момент времени ([import.documentsList](/nemo-backoffice-api/backoffice_payment_api/import_documentslist)) в виде таблицы. У каждого счета отображается ссылка на просмотр, скачивание и признак того, что счет был отправлен субагентством на оплату с возможностью изменения. Помимо таблицы с данными по документам, выводится информация по дополнительной платежной информации ([paymentExtraInfo](/nemo-backoffice-api/backoffice_payment_api/import_paymentbalance)) с возможностью сформировать счет на сумму, равную пени.


При получении запроса по данному API, перед обработкой, параметр sign должен быть обязательно проверен на корректность значения для аутентификации отправителя. Алгоритм вычисления значения sign определяется при интеграции.