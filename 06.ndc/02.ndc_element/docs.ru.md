---
title: 'Общие элементы'
published: true
---

### Базовые элементы для всех методов
Все запросы и ответы NDC имеют определенный набор общих базовых элементов.

#### Запрос

##### Идентификатор пользователя
-   **Header.UserID** - идентификатор пользователя, выполняющего запрос. Тип данных - целое неотрицательное 32х битное число.

##### Реквизиты Nemo Connect
-   **Header.Requisites** - реквизиты доступа к авиа серверу. Тип данных - сложный.
-   **Header.Requisites.Login** - логин для доступа к серверу. Тип данных - строка.
-   **Header.Requisites.Password** - пароль для доступа к серверу. Тип данных - строка.
-   **Header.Requisites.AuthToken** - ключ, выдается сотрудниками Nemo.travel. Тип данных - строка. Нужно указать либо его, либо связку логин+пароль.
-   **Header.Requisites.NemoOneAuthToken** - ключ, выдается сотрудниками Nemo.travel. Тип данных - строка. Нужно указать либо его, либо связку логин+пароль.
-   **Header.Requisites.UserContextId** - id пользователя (владельца заказа), чьи настройки используются. (используется только для случая авторизации по логину+паролю)

##### Тело запроса 
-	**Body.NameRequest** - элемент содержит тело запроса. Под "NameRequest" подразумевается название конкретного запроса, к примеру, AirShoppingRQ, OfferPriceRQ и т.д. Обязательно необходимо указывать атрибут Version, содержащий версию протокола NDC 17.2, пример, Version="17.2". Тип данных - сложный.

##### Информация о документе NDC
-	**NameRequest.Document** - используется для указания имени шлюза и версии внутренней реализации в системе (обязательный). Тип данных - сложный.
-	**NameRequest.Document.Name** - имя шлюза (обязательный). Тип данных - строка.
-	**NameRequest.Document.ReferenceVersion** - версия (обязательный). Тип данных - строка.
-	**NameRequest.Party** - содержит информацию об отправителе запроса, реквизитах поиска и другое (обязательный). Тип данных - сложный.

##### Информация об отправителе заспроса
-	**Party.Sender** - отправитель (обязательный). Тип данных сложный.
-	**Party.Sender.TravelAgencySender** - отправитель (обязательный). Тип данных сложный.
-	**Party.Sender.TravelAgencySender.OtherIDs** - реквизиты поиска и другое (необязательный). Тип данных - сложный.
-	**Party.Sender.TravelAgencySender.OtherIDs.OtherID** - в зависимости от значения атрибута Description определяется содержимоем элемента OtherID (обязательный). Тип данных атрибута - строка, возможные значения:
    -   **Source** — идентификатор пакета реквизитов Nemo Connect;
    -   **Tag** — одна из меток отправителя запроса, описывающая его по некоему критерию;
    -   **SubAgencyID** — идентификатор внешнего субагентства.
-	**Party.Sender.TravelAgencySender.AgencyID** - уникальный идентификатор агентства в авиа севрере (обязательный). Тип данных - целое положительное число.
-	**Party.Sender.TravelAgencySender.AgentUser** - уникальный идентификатор пользователя агентства в Nemo Connect (необязательный). Тип данных - сложный.
-	**Party.Sender.TravelAgencySender.AgentUser.AgentUserID** - уникальный идентификатор пользователя агентства в Nemo Connect (обязательный). Тип данных - целое положительное число.

#### Ответ

##### Идентификатор запроса
-	**ResponseID** - уникальный идентификатор обработанного события. Тип данных - строка.
-	
##### Тело ответа
-	**Body.NameResponse** - элемент содержит тело ответа. Под "NameResponce" подразумевается название конкретного сообщения, к примеру, AirShoppingRS, OrderViewRS, и т.д. Содержит атрибут Target и Version (описан выше). Атрибут Target  используется для указания тестовой или производственной среды.

##### Информация о документе NDC
-	**Document** - имя шлюза и версия внутренней реализации в системе. Тип данных - сложный.
-	**Document.Name** - имя шлюза. Тип данных - строка.
-	**Document.ReferenceVersion** - версия. Тип данных - строка.

##### Информация о успешном выполнении запроса
-	**Success** - наличие пустого элемента указывает, что сообщение выполнено успешно. Тип данных - сложный.

##### Предупреждения
-	**Warnings** - важные информационные сообщения о специфике обработки запроса, полученные в результате его выполнения. Тип данных - сложный. 
-	**Warnings.Warning** - важные информационные сообщения о специфике обработки запроса.

##### Ошибки
-	**Errors** - информация об ошибках, произошедших при обработке запроса. Тип данных - сложный.
-	**Errors.Error** - содержит описание ошибки. Включает атрибут Code - код ошибки.

##### Идентификатор запроса
-	**ShoppingResponseID** - аналог ResponseID. Элемент доступен только в двух методах: AirShopping, OfferPrice. Тип данных - сложный.
-	**ShoppingResponseID.ResponseID**  - уникальный идентификатор обработанного события. Тип данных - строка.
